/* styles/schedule_matcher-v2.css */
/* Layout per spec:
   - >=1400px: 3 columns (ads | table | results) + bottom row with controls, members, filters
   - <1400px:  4 columns (ads | table | mf | results), with mf column stacking controls/members/filters
*/

.sm-layout{
  display:grid; gap:16px; align-items:start;
  grid-template-columns: 240px minmax(0,1fr) 340px;
  grid-template-rows: auto auto;
  grid-template-areas:
    "ads table results"
    "ads mf    results";
}

#ads-panel{ grid-area: ads; min-height: 320px; }
#table-panel{ grid-area: table; }
#results-wrap{ grid-area: results; }
#mf-panel{ grid-area: mf; display:grid; grid-template-columns: 1fr 1fr 1fr; gap:12px; }

@media (max-width: 1399px){
  .sm-layout{
    grid-template-columns: 200px minmax(0,1fr) 360px 320px;
    grid-template-rows: auto;
    grid-template-areas: "ads table mf results";
  }
  #mf-panel{ grid-template-columns: 1fr; grid-auto-rows: auto; }
}

/* Controls */
.controls{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
.controls .helper{ margin-left:auto; color:var(--muted); }

/* Grid/Table visuals (no controls here) */
:root{
  --row-height: 18px;
  --timecol-width: 76px;
  --line:#2a2d31;
  --line-strong:#3a3e44;
  --vh: 100vh;
}
@supports (height: 100dvh){ :root{ --vh: 100dvh; } }
@supports (height: 100svh){ :root{ --vh: 100svh; } }
:root{ --grid-height: calc(var(--vh) - 160px); }

.grid{
  position:relative; background:#111214; border:1px solid var(--line);
  border-radius:12px; padding:8px; height:var(--grid-height); box-sizing:border-box; isolation:isolate;
}
.grid-content{
  position:relative; overflow:auto; height:100%; width:100%;
  background:#111214; border-radius:8px;
  transform: translateZ(0);
  scrollbar-width: thin; scrollbar-color:#3a3e44 #111214;
}
.grid-content::-webkit-scrollbar{ width:10px; height:10px; }
.grid-content::-webkit-scrollbar-track{ background:#111214; }
.grid-content::-webkit-scrollbar-thumb{ background:#3a3e44; border-radius:8px; }

.table{
  width:100%; table-layout:fixed; border-collapse:separate; border-spacing:0; user-select:none; font-size:12px;
  background:#111214;
}
.table th,.table td{ border:1px solid var(--line); text-align:center; background:#111214; }
.table thead th{
  position:sticky; top:0; z-index:6; background:#16181b; padding:6px; font-weight:600;
  box-shadow: inset 0 -1px 0 var(--line);
}
.table thead th.day{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.table tbody tr > th.time-col{
  position:static; left:auto; z-index:auto; background:#16181b; border-right:1px solid var(--line);
}
.table tbody td, .table tbody th{ height:var(--row-height); line-height:var(--row-height); padding:0; }
.time-col{
  width:var(--timecol-width); min-width:var(--timecol-width); max-width:var(--timecol-width);
  text-align:right; padding-right:6px; color:#d0d3d7; background:#16181b; border-right:1px solid var(--line);
}
.table thead th.day, .table tbody td.slot-cell{
  width: calc((100% - var(--timecol-width)) / 7);
}

.now-marker{ position:absolute; height:0; border-top:2px solid #e53935; z-index:8; display:none; pointer-events:none; }
.now-marker .bubble{
  position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
  background:#0f0f10; color:#e53935; border:1px solid #e53935; border-radius:6px; padding:2px 6px; font-size:10px; font-weight:700;
}

/* Results list: border only */
.results{ max-height: calc(100vh - 220px); overflow:auto; padding-right:6px; }
.results .result{
  background:transparent; border:1px solid var(--border); border-radius:10px; padding:8px 10px 26px 10px; margin:8px 6px;
}
.results .res-top{ font-weight:600; margin-bottom:3px; }
.results .res-sub{ font-size:11px; color:var(--muted); margin-bottom:3px; }
.results .res-users{ font-size:11px; color:#cfe9cf; }

/* Member list chips: border only */
.member-list{ display:flex; flex-wrap:wrap; gap:8px; list-style:none; padding:0; margin:0; }
.member-list li{
  position:relative; display:inline-flex; align-items:center; gap:8px;
  background:transparent; border:1px solid var(--border); border-radius:10px; padding:4px 22px 4px 10px;
}
.member-list .remove{ position:absolute; top:4px; right:4px; width:16px; height:16px; background:transparent; border:0; color:#ff4d4d; cursor:pointer; }
