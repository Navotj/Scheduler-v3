<header class="topbar">
  <nav class="topnav" aria-label="Primary">
    <a class="navbtn" href="/availability.html" aria-label="Availability" title="Availability">
      <svg viewBox="0 0 30 30" aria-hidden="true">
        <defs>
          <filter id="icon-outline-availability" filterUnits="userSpaceOnUse" x="-20%" y="-20%" width="140%" height="140%" color-interpolation-filters="sRGB">
            <feMorphology in="SourceAlpha" operator="dilate" radius="2" result="dilated"/>
            <feComposite in="dilated" in2="SourceAlpha" operator="out" result="outside"/>
            <feFlood flood-color="#000000" flood-opacity="0.5" result="color"/>
            <feComposite in="color" in2="outside" operator="in" result="outline"/>
            <feMerge>
              <feMergeNode in="outline"/>
              <feMergeNode in="SourceGraphic"/>
            </feMerge>
          </filter>
        </defs>
        <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
          <path d="M9 2.5v3.5M21 2.5v3.5M4.5 9h21" stroke-width="1.8"/>
          <rect x="5" y="6.5" width="20" height="17.5" rx="1" stroke-width="1.8"/>
          <path d="M9.5 12.5h3.8m4 0h3.8m-11.6 5h3.8m4 0h3.8" stroke-width="1.4"/>
        </g>
        <!-- Redesigned pen + single continuous squiggle -->
        <g transform="translate(15,15) scale(1.25)" filter="url(#icon-outline-availability)">
          <!-- Nice angled fountain pen -->
          <g transform="rotate(-32 6 6)">
            <!-- cap/body (rounded capsule) -->
            <rect x="3.6" y="0.6" width="2.8" height="7.4" rx="1.4" fill="currentColor"/>
            <!-- trim rings -->
            <path d="M3.5 4.9h3.0M3.5 5.7h3.0" stroke="currentColor" stroke-width="0.6"/>
            <!-- section -->
            <rect x="3.3" y="7.2" width="3.4" height="1.1" rx="0.5" fill="currentColor"/>
            <!-- nib -->
            <path d="M2.2 8.3 L7.8 8.3 6.0 10.9 4.0 10.9 Z" fill="currentColor"/>
            <!-- slit + breather -->
            <path d="M5.0 8.5v1.7" stroke="currentColor" stroke-width="0.6" stroke-linecap="round" fill="none"/>
            <circle cx="5.0" cy="8.4" r="0.28" fill="currentColor"/>
          </g>
          <!-- single connected squiggle starting at nib tip (approx 2.2,10.9) -->
          <path d="M2.2 10.9
                   C 1.6 11.2, 1.0 11.2, 0.6 10.8
                   S -0.2 9.9, -0.8 10.5
                   S -1.8 11.9, -2.7 11.1
                   S -3.8 9.7, -4.7 10.4"
                fill="none" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/>
        </g>
      </svg>
    </a>

    <a class="navbtn" href="/matcher.html" aria-label="Schedule matcher" title="Schedule matcher">
      <svg viewBox="0 0 30 30" aria-hidden="true">
        <defs>
          <filter id="icon-outline-matcher" filterUnits="userSpaceOnUse" x="-20%" y="-20%" width="140%" height="140%" color-interpolation-filters="sRGB">
            <feMorphology in="SourceAlpha" operator="dilate" radius="2" result="dilated"/>
            <feComposite in="dilated" in2="SourceAlpha" operator="out" result="outside"/>
            <feFlood flood-color="#000000" flood-opacity="0.65" result="color"/>
            <feComposite in="color" in2="outside" operator="in" result="outline"/>
            <feMerge>
              <feMergeNode in="outline"/>
              <feMergeNode in="SourceGraphic"/>
            </feMerge>
          </filter>
        </defs>
        <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
          <path d="M9 2.5v3.5M21 2.5v3.5M4.5 9h21" stroke-width="1.8"/>
          <rect x="5" y="6.5" width="20" height="17.5" rx="1" stroke-width="1.8"/>
          <path d="M9.5 12.5h3.8m4 0h3.8m-11.6 5h3.8m4 0h3.8" stroke-width="1.4"/>
        </g>
        <g transform="translate(15,15) scale(1.25)" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" filter="url(#icon-outline-matcher)">
          <circle cx="5.2" cy="5.2" r="3.8" stroke-width="1.6"/>
          <path d="M8.5 8.5l2.8 2.8" stroke-width="1.8"/>
        </g>
      </svg>
    </a>

    <a class="navbtn" href="/templates.html" aria-label="Templates" title="Templates">
      <svg viewBox="0 0 30 30" aria-hidden="true">
        <defs>
          <filter id="icon-outline-templates" filterUnits="userSpaceOnUse" x="-20%" y="-20%" width="140%" height="140%" color-interpolation-filters="sRGB">
            <feMorphology in="SourceAlpha" operator="dilate" radius="2" result="dilated"/>
            <feComposite in="dilated" in2="SourceAlpha" operator="out" result="outside"/>
            <feFlood flood-color="#000000" flood-opacity="0.65" result="color"/>
            <feComposite in="color" in2="outside" operator="in" result="outline"/>
            <feMerge>
              <feMergeNode in="outline"/>
              <feMergeNode in="SourceGraphic"/>
            </feMerge>
          </filter>
        </defs>
        <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
          <path d="M9 2.5v3.5M21 2.5v3.5M4.5 9h21" stroke-width="1.8"/>
          <rect x="5" y="6.5" width="20" height="17.5" rx="1" stroke-width="1.8"/>
          <path d="M9.5 12.5h3.8m4 0h3.8m-11.6 5h3.8m4 0h3.8" stroke-width="1.4"/>
        </g>
        <g transform="translate(15,15) scale(1.25)" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" filter="url(#icon-outline-templates)">
          <path d="M2.2 5.8l4.2-1.8 4.2 1.8-4.2 1.8z" fill="currentColor"/>
          <path d="M3 4l4.2-1.8 4.2 1.8" fill="none" stroke-width="1.4"/>
          <path d="M2.2 5.8v2.5l4.2 1.8 4.2-1.8V5.8" fill="none" stroke-width="1.4"/>
        </g>
      </svg>
    </a>

    <button id="settings-btn" class="navbtn" type="button" aria-label="Settings" title="Settings">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm7.5-2.1a8 8 0 0 0 0-1.8l2-1.6-2-3.4-2.5 1a7.9 7.9 0 0 0-1.6-0.9l-0.4-2.6H9.9l-0.4 2.6a7.9 7.9 0 0 0-1.6 0.9l-2.5-1-2 3.4 2 1.6a8 8 0 0 0 0 1.8l-2 1.6 2 3.4 2.5-1a7.9 7.9 0 0 0 1.6 0.9l0.4 2.6h4.2l0.4-2.6a7.9 7.9 0 0 0 1.6-0.9l2.5 1 2-3.4-2-1.6Z" fill="none" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>

    <button id="auth-btn" class="navbtn navbtn--login" type="button" aria-label="Sign in" title="Sign in" data-state="anonymous">
      <svg id="auth-icon" viewBox="0 0 24 24" aria-hidden="true">
        <g data-icon="login">
          <path d="M16 4h3a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          <path d="M3 12h12" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          <path d="M10 7l5 5-5 5" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </g>
        <g data-icon="logout" hidden>
          <path d="M5 4h3a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H5" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          <path d="M8 12h9" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          <path d="M12 7l5 5-5 5" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </g>
      </svg>
    </button>
    <span id="auth-label" class="auth-label" aria-live="polite">not logged in</span>
  </nav>

  <span class="brand-title" aria-hidden="true">Nat20Scheduling</span>

  <a class="brand" href="/" aria-label="Home">
    <svg class="d20clock" viewBox="0 0 64 64" role="img" aria-label="Current time">
      <g class="die" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
        <polygon points="7.751,46.000 32.000,60.000 56.249,46.000 56.249,18.000 32.000,4.000 7.751,18.000" />
        <line x1="32.000" y1="14.695" x2="56.249" y2="18.000" />
        <line x1="32.000" y1="14.695" x2="46.987" y2="40.652" />
        <line x1="32.000" y1="14.695" x2="32.000" y2="4.000" />
        <line x1="32.000" y1="14.695" x2="7.751" y2="18.000" />
        <line x1="32.000" y1="14.695" x2="17.013" y2="40.652" />
        <line x1="56.249" y1="18.000" x2="46.987" y2="40.652" />
        <line x1="56.249" y1="18.000" x2="56.249" y2="46.000" />
        <line x1="46.987" y1="40.652" x2="56.249" y2="46.000" />
        <line x1="46.987" y1="40.652" x2="32.000" y2="60.000" />
        <line x1="46.987" y1="40.652" x2="17.013" y2="40.652" />
        <line x1="6.956" y1="46.000" x2="32.000" y2="60.000" />
        <line x1="6.956" y1="46.000" x2="17.013" y2="40.652" />
        <line x1="6.956" y1="46.000" x2="7.751" y2="18.000" />
        <line x1="32.000" y1="60.000" x2="17.013" y2="40.652" />
        <line x1="32.000" y1="60.000" x2="17.013" y2="40.652" />
        <line x1="7.751" y1="18.000" x2="17.013" y2="40.652" />
      </g>
      <g class="hands">
        <line class="hour"   x1="32" y1="32" x2="32" y2="19" />
        <line class="minute" x1="32" y1="32" x2="32" y2="12" />
        <circle cx="32" cy="32" r="1.7"/>
      </g>
    </svg>
  </a>
</header>
