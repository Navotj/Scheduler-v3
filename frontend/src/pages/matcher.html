<!-- @include ../partials/dochead.html -->
<title>matcher</title>
<link rel="stylesheet" href="/styles/availability.css" />
<link rel="stylesheet" href="/styles/matcher.css" />
</head>
<body>
  <div class="shell">
    <!-- @include ../partials/topbar.html -->

    <div class="layout">
      <!-- @include ../partials/rail.html -->

      <main id="page" class="main" tabindex="-1" aria-label="Main content">
        <!-- Keep the exact same shell and class names as availability to inherit visuals -->
        <section class="availability">
          <div class="availability-layout">
            <!-- LEFT: grid (1fr) + bottom controls (auto) exactly like availability -->
            <section class="availability-left">
              <div id="grid" class="grid">
                <div id="grid-content" class="grid-content">
                  <table id="schedule-table" class="table" aria-label="Weekly availability heatmap"></table>
                  <div id="now-marker" class="now-marker"><span class="bubble">NOW</span></div>
                  <div id="cell-tooltip" class="cell-tooltip" style="display:none"></div>
                </div>
              </div>

              <!-- Bottom controls pane â€” mirrors availability placement -->
              <div class="controls-pane">
                <div class="picker-controls">
                  <!-- 1) Week controls on the FAR LEFT, same placement & visuals as availability -->
                  <div class="week-controls">
                    <button id="prev-week" type="button" aria-label="Previous week">Prev</button>
                    <span id="week-label" class="week-label" aria-live="polite"></span>
                    <button id="next-week" type="button" aria-label="Next week">Next</button>
                  </div>

                  <!-- 2) Middle column: all filters laid out HORIZONTALLY -->
                  <div class="filters-controls">
                    <!-- Add members (inline) -->
                    <div class="add-user">
                      <input id="add-username" type="text" placeholder="username" autocomplete="off" />
                      <button id="add-user-btn" type="button">Add</button>
                      <button id="add-me-btn" type="button">Add me</button>
                    </div>

                    <!-- Max missing -->
                    <div class="field">
                      <label for="max-missing">Max missing</label>
                      <input id="max-missing" type="number" min="0" value="0" />
                    </div>

                    <!-- Minimum hours -->
                    <div class="field">
                      <label for="min-hours">Min length</label>
                      <div class="row">
                        <input id="min-hours" type="number" min="0.5" step="0.5" value="1" />
                        <span>h</span>
                      </div>
                    </div>

                    <!-- Sort -->
                    <div class="field">
                      <label for="sort-method">Sort by</label>
                      <select id="sort-method">
                        <option value="most">Most participants</option>
                        <option value="earliest-week">Earliest in week</option>
                        <option value="latest-week">Latest in week</option>
                        <option value="earliest">Earliest time of day</option>
                        <option value="latest">Latest time of day</option>
                        <option value="longest">Longest duration</option>
                      </select>
                    </div>
                  </div>

                  <!-- 3) Right column left empty (keeps the same 3-col grid as availability) -->
                  <div class="save-controls"></div>
                </div>

                <!-- Inline error under the controls row -->
                <div id="member-error" class="error-text"></div>

                <!-- Optional member chips list (kept hidden to preserve horizontal-only layout) -->
                <ul id="member-list" class="member-list" hidden></ul>
              </div>
            </section>

            <!-- RIGHT: results list in the same slot as availability-right -->
            <aside class="availability-right">
              <section id="results-panel" class="panel">
                <h3>Results</h3>
                <div id="results" class="results"></div>
              </section>
            </aside>
          </div>
        </section>
      </main>
    </div>
  </div>

  <script src="/scripts/config.js" defer></script>
  <script src="/scripts/clock.js" defer></script>
  <script src="/scripts/modal.js" defer></script>
  <script src="/scripts/auth.js" defer></script>
  <script src="/scripts/login.js" defer></script>
  <script src="/scripts/register.js" defer></script>
  <script src="/scripts/settings.js" defer></script>
  <script src="/scripts/matcher.js" defer></script>
</body>
</html>
