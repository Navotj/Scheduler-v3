<!-- @include ../partials/dochead.html -->
<title>matcher</title>
<link rel="stylesheet" href="/styles/availability.css" />
<link rel="stylesheet" href="/styles/matcher.css" />
</head>
<body>
  <div class="shell">
    <!-- @include ../partials/topbar.html -->

    <div class="layout">
      <!-- @include ../partials/rail.html -->

      <main id="page" class="main" tabindex="-1" aria-label="Main content">
        <section class="availability">
          <div class="availability-layout">
            <!-- LEFT: grid + bottom controls -->
            <section class="availability-left">
              <div id="grid" class="grid">
                <div id="grid-content" class="grid-content">
                  <table id="schedule-table" class="table" aria-label="Weekly availability grid">
                    <thead>
                      <tr>
                        <th class="time-col">Time</th>
                        <th class="day">Sun, 24 Aug</th>
                        <th class="day">Mon, 25 Aug</th>
                        <th class="day">Tue, 26 Aug</th>
                        <th class="day">Wed, 27 Aug</th>
                        <th class="day">Thu, 28 Aug</th>
                        <th class="day">Fri, 29 Aug</th>
                        <th class="day">Sat, 30 Aug</th>
                      </tr>
                    </thead>
                    <tbody id="table-body"></tbody>
                  </table>
                  <div id="now-marker" class="now-marker" aria-hidden="true"><span class="bubble">NOW</span></div>
                  <div id="cell-tooltip" class="cell-tooltip" style="display:none"></div>
                </div>
              </div>

              <!-- Bottom pane: single horizontal line (clusters) -->
              <div class="controls-pane">
                <div class="picker-controls">
                  <!-- cluster 1: week nav (Prev | Next) -->
                  <div class="cluster week-controls">
                    <button id="prev-week" type="button" aria-label="Previous week">Prev</button>
                    <button id="next-week" type="button" aria-label="Next week">Next</button>
                    <span id="week-label" class="week-label" aria-live="polite"></span>
                  </div>

                  <!-- cluster 2: member entry -->
                  <div class="cluster add-user">
                    <div class="field">
                      <label for="member-name">Member</label>
                      <input id="member-name" type="text" placeholder="username" />
                    </div>
                    <button id="add-user" type="button">Add</button>
                    <button id="add-me" type="button">Add me</button>
                  </div>

                  <!-- cluster 3: filters -->
                  <div class="cluster filters">
                    <div class="field">
                      <label for="max-missing">Max missing</label>
                      <input id="max-missing" type="number" min="0" value="0" />
                    </div>
                    <div class="field">
                      <label for="min-hours">Min length</label>
                      <input id="min-hours" type="number" min="0.5" step="0.5" value="1" />
                    </div>
                  </div>

                  <!-- cluster 4: legend (label on the same titles line) -->
                  <div class="cluster legend">
                    <div class="field legend-field">
                      <label class="field-label">Legend</label>
                      <div id="legend-blocks" class="legend-blocks"></div>
                    </div>
                  </div>

                  <!-- cluster 5: actions -->
                  <div class="cluster save-controls">
                    <button id="find" type="button">Find</button>
                    <button id="copy" type="button">Copy</button>
                  </div>
                </div>
                <p id="member-error" class="signin-tooltip" aria-hidden="true"></p>
              </div>
            </section>

            <!-- RIGHT: results -->
            <aside class="availability-right">
              <section id="results-panel" class="panel">
                <header class="panel-head">
                  <h2>Results</h2>
                </header>
                <div id="results" class="results"></div>
              </section>
            </aside>
          </div>
        </section>
      </main>
    </div>
  </div>

  <script src="/scripts/config.js" defer></script>
  <script src="/scripts/clock.js" defer></script>
  <script src="/scripts/modal.js" defer></script>
  <script src="/scripts/auth.js" defer></script>
  <script src="/scripts/login.js" defer></script>
  <script src="/scripts/register.js" defer></script>
  <script src="/scripts/settings.js" defer></script>
  <script src="/scripts/matcher.js" defer></script>
</body>
</html>
